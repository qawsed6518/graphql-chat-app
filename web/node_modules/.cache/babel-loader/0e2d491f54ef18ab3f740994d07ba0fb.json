{"ast":null,"code":"import _objectSpread from\"C:/code3/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/code3/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/code3/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/code3/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/code3/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import React from\"react\";import{useForm}from\"react-hook-form\";import{gql,useMutation}from\"@apollo/client\";import styled from\"styled-components\";import{Search as searchIcon}from\"@styled-icons/boxicons-regular/Search\";import{LogOut}from\"@styled-icons/boxicons-regular/LogOut\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FIND_CHANNEL=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    mutation Find_Channel($channelNameInput: String!) {\\n        findChannel(channelNameInput: $channelNameInput)\\n    }\\n\"])));var LOGOUT=gql(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    mutation Log_Out {\\n        logout\\n    }\\n\"])));function ChatHeader(_ref){var channelName=_ref.channelName;var _useMutation=useMutation(LOGOUT,{onCompleted:function onCompleted(_ref2){var logout=_ref2.logout;if(logout===true)window.location.reload();}}),_useMutation2=_slicedToArray(_useMutation,1),logoutMutation=_useMutation2[0];var _useMutation3=useMutation(FIND_CHANNEL,{onCompleted:function onCompleted(_ref3){var findChannel=_ref3.findChannel;findChannel===true?window.location.reload():window.alert(\"찾는 채널이 없습니다\");}}),_useMutation4=_slicedToArray(_useMutation3,1),findChannelMutation=_useMutation4[0];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var onSubmit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return findChannelMutation({variables:data});case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(HeaderLeft,{children:/*#__PURE__*/_jsx(ChatHeaderHash,{children:/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(ChatHeaderHash,{children:\"#\"}),channelName]})})}),/*#__PURE__*/_jsxs(HeaderRight,{children:[/*#__PURE__*/_jsxs(Search,{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({placeholder:\"Search Channels\",name:\"channelNameInput\",type:\"channelNameInput\"},register(\"channelNameInput\"))),/*#__PURE__*/_jsx(SearchIcon,{size:\"20\"})]}),/*#__PURE__*/_jsx(LogOutIcon,{size:\"35\",onClick:logoutMutation})]})]});}export default ChatHeader;var Container=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    color: gray;\\n    padding: 10px;\\n\"])));var HeaderLeft=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\"])));var ChatHeaderHash=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    color: gray;\\n    font-size: 30px;\\n    padding: 10px;\\n\\n    h3 {\\n        display: flex;\\n        align-items: center;\\n        color: white;\\n    }\\n\"])));var HeaderRight=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n    flex: 0.5;\\n    justify-content: space-between;\\n\"])));var Search=styled.form(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n    color: gray;\\n    background-color: #2f3135;\\n    border-radius: 3px;\\n    padding: 3px;\\n\\n    input {\\n        background: transparent;\\n        outline-width: 0;\\n        color: white;\\n        border: none;\\n    }\\n\"])));var SearchIcon=styled(searchIcon)(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n    padding: 5px;\\n    cursor: pointer;\\n    &:hover {\\n        color: red;\\n    }\\n\"])));var LogOutIcon=styled(LogOut)(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n    padding: 5px;\\n    padding-right: 30px;\\n    padding-bottom: 15px;\\n    cursor: pointer;\\n    &:hover {\\n        color: red;\\n    }\\n\"])));","map":{"version":3,"sources":["C:/code3/web/src/components/ChatHeader.js"],"names":["React","useForm","gql","useMutation","styled","Search","searchIcon","LogOut","FIND_CHANNEL","LOGOUT","ChatHeader","channelName","onCompleted","logout","window","location","reload","logoutMutation","findChannel","alert","findChannelMutation","register","handleSubmit","onSubmit","data","variables","Container","div","HeaderLeft","ChatHeaderHash","HeaderRight","form","SearchIcon","LogOutIcon"],"mappings":"uzBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,GAAT,CAAcC,WAAd,KAAiC,gBAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,MAAM,GAAIC,CAAAA,UAAnB,KAAqC,uCAArC,CACA,OAASC,MAAT,KAAuB,uCAAvB,C,wFAEA,GAAMC,CAAAA,YAAY,CAAGN,GAAH,6LAAlB,CAMA,GAAMO,CAAAA,MAAM,CAAGP,GAAH,oHAAZ,CAMA,QAASQ,CAAAA,UAAT,MAAqC,IAAfC,CAAAA,WAAe,MAAfA,WAAe,CACjC,iBAAyBR,WAAW,CAACM,MAAD,CAAS,CACzCG,WADyC,4BACjB,IAAVC,CAAAA,MAAU,OAAVA,MAAU,CACpB,GAAIA,MAAM,GAAK,IAAf,CAAqBC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACxB,CAHwC,CAAT,CAApC,8CAAOC,cAAP,kBAKA,kBAA8Bd,WAAW,CAACK,YAAD,CAAe,CACpDI,WADoD,4BACvB,IAAfM,CAAAA,WAAe,OAAfA,WAAe,CACzBA,WAAW,GAAK,IAAhB,CACMJ,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EADN,CAEMF,MAAM,CAACK,KAAP,CAAa,aAAb,CAFN,CAGH,CALmD,CAAf,CAAzC,+CAAOC,mBAAP,kBAOA,aAAmCnB,OAAO,EAA1C,CAAQoB,QAAR,UAAQA,QAAR,CAAkBC,YAAlB,UAAkBA,YAAlB,CACA,GAAMC,CAAAA,QAAQ,2FAAG,iBAAOC,IAAP,wIACPJ,CAAAA,mBAAmB,CAAC,CAAEK,SAAS,CAAED,IAAb,CAAD,CADZ,6GAAH,kBAARD,CAAAA,QAAQ,6CAAd,CAGA,mBACI,MAAC,SAAD,yBACI,KAAC,UAAD,wBACI,KAAC,cAAD,wBACI,mCACI,KAAC,cAAD,gBADJ,CAEKZ,WAFL,GADJ,EADJ,EADJ,cASI,MAAC,WAAD,yBACI,MAAC,MAAD,EAAQ,QAAQ,CAAEW,YAAY,CAACC,QAAD,CAA9B,wBACI,4BACI,WAAW,CAAC,iBADhB,CAEI,IAAI,CAAC,kBAFT,CAGI,IAAI,CAAC,kBAHT,EAIQF,QAAQ,CAAC,kBAAD,CAJhB,EADJ,cAOI,KAAC,UAAD,EAAY,IAAI,CAAC,IAAjB,EAPJ,GADJ,cAUI,KAAC,UAAD,EAAY,IAAI,CAAC,IAAjB,CAAsB,OAAO,CAAEJ,cAA/B,EAVJ,GATJ,GADJ,CAwBH,CAED,cAAeP,CAAAA,UAAf,CAEA,GAAMgB,CAAAA,SAAS,CAAGtB,MAAM,CAACuB,GAAV,8LAAf,CAQA,GAAMC,CAAAA,UAAU,CAAGxB,MAAM,CAACuB,GAAV,mEAAhB,CAEA,GAAME,CAAAA,cAAc,CAAGzB,MAAM,CAACuB,GAAV,iOAApB,CAYA,GAAMG,CAAAA,WAAW,CAAG1B,MAAM,CAACuB,GAAV,wKAAjB,CAOA,GAAMtB,CAAAA,MAAM,CAAGD,MAAM,CAAC2B,IAAV,kVAAZ,CAgBA,GAAMC,CAAAA,UAAU,CAAG5B,MAAM,CAACE,UAAD,CAAT,yJAAhB,CAQA,GAAM2B,CAAAA,UAAU,CAAG7B,MAAM,CAACG,MAAD,CAAT,8MAAhB","sourcesContent":["import React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { gql, useMutation } from \"@apollo/client\";\r\nimport styled from \"styled-components\";\r\nimport { Search as searchIcon } from \"@styled-icons/boxicons-regular/Search\";\r\nimport { LogOut } from \"@styled-icons/boxicons-regular/LogOut\";\r\n\r\nconst FIND_CHANNEL = gql`\r\n    mutation Find_Channel($channelNameInput: String!) {\r\n        findChannel(channelNameInput: $channelNameInput)\r\n    }\r\n`;\r\n\r\nconst LOGOUT = gql`\r\n    mutation Log_Out {\r\n        logout\r\n    }\r\n`;\r\n\r\nfunction ChatHeader({ channelName }) {\r\n    const [logoutMutation] = useMutation(LOGOUT, {\r\n        onCompleted({ logout }) {\r\n            if (logout === true) window.location.reload();\r\n        },\r\n    });\r\n    const [findChannelMutation] = useMutation(FIND_CHANNEL, {\r\n        onCompleted({ findChannel }) {\r\n            findChannel === true\r\n                ? window.location.reload()\r\n                : window.alert(\"찾는 채널이 없습니다\");\r\n        },\r\n    });\r\n    const { register, handleSubmit } = useForm();\r\n    const onSubmit = async (data) =>\r\n        await findChannelMutation({ variables: data });\r\n\r\n    return (\r\n        <Container>\r\n            <HeaderLeft>\r\n                <ChatHeaderHash>\r\n                    <h3>\r\n                        <ChatHeaderHash>#</ChatHeaderHash>\r\n                        {channelName}\r\n                    </h3>\r\n                </ChatHeaderHash>\r\n            </HeaderLeft>\r\n            <HeaderRight>\r\n                <Search onSubmit={handleSubmit(onSubmit)}>\r\n                    <input\r\n                        placeholder=\"Search Channels\"\r\n                        name=\"channelNameInput\"\r\n                        type=\"channelNameInput\"\r\n                        {...register(\"channelNameInput\")}\r\n                    />\r\n                    <SearchIcon size=\"20\" />\r\n                </Search>\r\n                <LogOutIcon size=\"35\" onClick={logoutMutation} />\r\n            </HeaderRight>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default ChatHeader;\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    color: gray;\r\n    padding: 10px;\r\n`;\r\n\r\nconst HeaderLeft = styled.div``;\r\n\r\nconst ChatHeaderHash = styled.div`\r\n    color: gray;\r\n    font-size: 30px;\r\n    padding: 10px;\r\n\r\n    h3 {\r\n        display: flex;\r\n        align-items: center;\r\n        color: white;\r\n    }\r\n`;\r\n\r\nconst HeaderRight = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    flex: 0.5;\r\n    justify-content: space-between;\r\n`;\r\n\r\nconst Search = styled.form`\r\n    display: flex;\r\n    align-items: center;\r\n    color: gray;\r\n    background-color: #2f3135;\r\n    border-radius: 3px;\r\n    padding: 3px;\r\n\r\n    input {\r\n        background: transparent;\r\n        outline-width: 0;\r\n        color: white;\r\n        border: none;\r\n    }\r\n`;\r\n\r\nconst SearchIcon = styled(searchIcon)`\r\n    padding: 5px;\r\n    cursor: pointer;\r\n    &:hover {\r\n        color: red;\r\n    }\r\n`;\r\n\r\nconst LogOutIcon = styled(LogOut)`\r\n    padding: 5px;\r\n    padding-right: 30px;\r\n    padding-bottom: 15px;\r\n    cursor: pointer;\r\n    &:hover {\r\n        color: red;\r\n    }\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}